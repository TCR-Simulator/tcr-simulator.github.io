(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{291:function(e,t,a){e.exports=a(712)},296:function(e,t,a){},359:function(e,t){},361:function(e,t){},381:function(e,t){},383:function(e,t){},414:function(e,t){},415:function(e,t){},44:function(e,t,a){"use strict";(function(e){a.d(t,"b",function(){return l}),a.d(t,"a",function(){return s}),a.d(t,"c",function(){return m});var n=a(3),r=a.n(n),i=a(7),c=a(169),o=a.n(c),l=function(){return e.from(o.a.randomBytes(16)).readUInt32BE(0)},s=function(e){return new Date(1e3*e.toNumber())},u=function(){var e=Object(i.a)(r.a.mark(function e(t,a){var n,i,c,o=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=o.length,i=new Array(n>2?n-2:0),c=2;c<n;c++)i[c-2]=o[c];return e.abrupt("return",new Promise(function(e,n){t[a].apply(t,i.concat([function(t,a){t?n(t):e(a)}]))}));case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(r.a.mark(function e(){var t,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(window.web3.eth,"getBlockNumber");case 2:return t=e.sent,e.next=5,u(window.web3.eth,"getBlock",t);case 5:return a=e.sent,e.abrupt("return",new Date(1e3*a.timestamp));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();window.cryptoo=o.a}).call(this,a(26).Buffer)},644:function(e,t){e.exports="data:image/png;base64,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"},712:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(39),c=a.n(i),o=(a(296),a(173)),l=a(9),s=a(10),u=a(17),m=a(16),h=a(18),p=a(14),d=a(714),g=a(716),f=a(715),v=a(168),b=a.n(v),E=a(90),y=a.n(E),C=a(55),w=a.n(C),k=a(12),O=a.n(k),j=a(74),S=a.n(j),x=a(129),A=a.n(x),N=a(128),I=a.n(N),T=a(127),D=a.n(T),L=a(62),B=a.n(L),F=a(43),P=a.n(F),R=a(3),W=a.n(R),M=a(7),G=a(75),V=a(40),Z=a.n(V),z=a(28),H=a.n(z),Y=a(29),U=a.n(Y),J=a(126),q=a.n(J),Q=a(54),X=a.n(Q),K=a(27),_=a.n(K),$=a(48),ee=a.n($),te=a(51),ae=a.n(te),ne=a(50),re=a.n(ne),ie=a(49),ce=a.n(ie),oe=a(52),le=a.n(oe),se=a(53),ue=a.n(se),me=a(89),he=a.n(me),pe=a(44),de=function(){function e(t,a,n){Object(l.a)(this,e),this.name=t,this.url=n,this.artist=a,this.listingHash=null,this.appEndDate=null,this.applicant=null,this.deposit=0,this.challengePoll=null}return Object(s.a)(e,[{key:"isExpired",value:function(e){return e>this.appEndDate}},{key:"getHash",value:function(){return window.web3.sha3(this.toString())}},{key:"toObject",value:function(){return{name:this.name,artist:this.artist,url:this.url}}},{key:"toString",value:function(){return JSON.stringify(this.toObject())}}],[{key:"fromObject",value:function(t){var a=t.listingHash,n=t.appEndDate,r=t.applicant,i=t.deposit,c=t.data,o=JSON.parse(c),l=new e(o.name,o.artist,o.url);return l.listingHash=a,l.appEndDate=Object(pe.a)(n),l.applicant=r,l.deposit=i,l.data=c,l}}]),e}(),ge=a(267),fe=a.n(ge),ve=a(269),be=a.n(ve),Ee=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getDialog",value:function(){var e=this.props.content;return"acceptanceLikelihood"===e?"The probability that a maintainor will accept a submission":"submissionFreq"===e?"How frequently submissions are made in a set time frame":"submissionFreq"===e?"How frequently submissions are made in a set time frame":"submissionQuality"===e?"The quality of the submission - i.e. submissions with higher quality are more likely to be accpted":"minimumDeposit"===e?"The minimum amount a contributor must pay to contribute a submission":"TCRMech"===e?"The rules for the TCR":"curation"===e?"Determines if each of the maintainor will have the same voting right i.e one maintainer's vote may be of greater importance than another despite having the same amount of tokens":"access"===e?"Indicates if a user has to pay in order to access the list":"ERROR"}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.infoBut},r.a.createElement(fe.a,{title:this.getDialog()},r.a.createElement(be.a,{className:e.icon})))}}]),t}(r.a.Component),ye=Object(p.withStyles)({infoBut:{display:"inline",marginLeft:5},icon:{fontSize:15,marginBottom:-2}})(Ee),Ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={description:"",loading:!1,snackbarOpen:!1,snackbarMessage:""},a.handleDescription=function(){return function(e){var t=e.target.value;a.setState({description:t})}},a.handleChallenge=function(){return Object(M.a)(W.a.mark(function e(){var t,n,r,i,c;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.handleSuccess,r=t.tcrConnection,i=t.listing,c=a.state.description,e.next=4,r.challenge(i.listingHash,c);case 4:n(i);case 5:case"end":return e.stop()}},e,this)}))},a.handleSnackbarClose=function(){return function(){a.setState({snackbarOpen:!1})}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.handleCancel,i=this.state,c=i.loading,o=i.snackbarOpen,l=i.snackbarMessage;return r.a.createElement(ee.a,{open:a,onClose:n,"aria-labelledby":"form-dialog-title",className:t.dialogBox,fullWidth:!0},r.a.createElement(ce.a,{id:"form-dialog-title"},"Challenge a Submission"),r.a.createElement(re.a,null,r.a.createElement("div",null,r.a.createElement(H.a,{className:t.ListItem},r.a.createElement(U.a,{className:t.listItemText},"Reason to Challenge",r.a.createElement(ye,{classes:"",content:"minimumDeposit"})),r.a.createElement("div",null,r.a.createElement(he.a,{margin:"normal",onChange:this.handleDescription(),autoFocus:!0}))))),r.a.createElement(ae.a,null,r.a.createElement(_.a,{onClick:n,color:"primary",disabled:c},"Cancel"),r.a.createElement("div",{className:t.submitWrapper},r.a.createElement(_.a,{onClick:this.handleChallenge(),variant:"contained",color:"primary",disabled:c},"Challenge"),c&&r.a.createElement(le.a,{size:24,className:t.submitButtonProgress}))),r.a.createElement(ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:3e3,open:o,message:l,onClose:this.handleSnackbarClose()}))}}]),t}(r.a.Component);Ce.defaultProps={open:!1,handleCancel:function(){},handleSuccess:function(){},listing:[]};var we=Object(p.withStyles)(function(e){return{subtitle:{display:"inline",paddingLeft:6,marginTop:1,position:"flex",flexDirection:"column"},dialogBox:{maxWidth:"80%"},subtitleIcon:{display:"inline",padding:3},listItemText:{marginLeft:10},ListItem:{marginTop:10,marginBottom:17},margin:{margin:e.spacing.unit},section:{display:"flex",borderBottom:"1px solid rgb(0,0,0,.25)"},withSection:{display:"flex",marginTop:10,marginBottom:-5},selected:{color:"grey",marginLeft:10},submitWrapper:{margin:e.spacing.unit,position:"relative"},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(Ce),ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={amount:0,loading:!1,snackbarOpen:!1,snackbarMessage:""},a.handleAmount=function(){return function(e){var t=e.target.value;a.setState({amount:t})}},a.handleWithdraw=function(){return Object(M.a)(W.a.mark(function e(){var t,n,r,i,c;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.handleSuccess,r=t.tcrConnection,i=t.listing,c=a.state.amount,e.next=4,r.withdraw(i.listingHash,c);case 4:n(i);case 5:case"end":return e.stop()}},e,this)}))},a.handleSnackbarClose=function(){return function(){a.setState({snackbarOpen:!1})}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.handleCancel,i=this.state,c=i.loading,o=i.snackbarOpen,l=i.snackbarMessage;return r.a.createElement(ee.a,{open:a,onClose:n,"aria-labelledby":"form-dialog-title",className:t.dialogBox,fullWidth:!0},r.a.createElement(ce.a,{id:"form-dialog-title"},"Withdraw your Submission"),r.a.createElement(re.a,null,r.a.createElement("div",null,r.a.createElement(H.a,{className:t.ListItem},r.a.createElement(U.a,{className:t.listItemText},"Enter number of tokens to withdraw from the unstaked deposit",r.a.createElement(ye,{classes:"",content:"minimumDeposit"})),r.a.createElement("div",null,r.a.createElement(he.a,{margin:"normal",onChange:this.handleAmount(),autoFocus:!0}))))),r.a.createElement(ae.a,null,r.a.createElement(_.a,{onClick:n,color:"primary",disabled:c},"Cancel"),r.a.createElement("div",{className:t.submitWrapper},r.a.createElement(_.a,{onClick:this.handleWithdraw(),variant:"contained",color:"primary",disabled:c},"Withdraw"),c&&r.a.createElement(le.a,{size:24,className:t.submitButtonProgress}))),r.a.createElement(ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:3e3,open:o,message:l,onClose:this.handleSnackbarClose()}))}}]),t}(r.a.Component);ke.defaultProps={open:!1,handleCancel:function(){},handleSuccess:function(){},listing:[]};var Oe=Object(p.withStyles)(function(e){return{subtitle:{display:"inline",paddingLeft:6,marginTop:1,position:"flex",flexDirection:"column"},dialogBox:{maxWidth:"80%"},subtitleIcon:{display:"inline",padding:3},listItemText:{marginLeft:10},ListItem:{marginTop:10,marginBottom:17},margin:{margin:e.spacing.unit},section:{display:"flex",borderBottom:"1px solid rgb(0,0,0,.25)"},withSection:{display:"flex",marginTop:10,marginBottom:-5},selected:{color:"grey",marginLeft:10},submitWrapper:{margin:e.spacing.unit,position:"relative"},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(ke),je=window.web3,Se=function(){var e=Object(M.a)(W.a.mark(function e(t){var a;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch("".concat("http://localhost:3000/contracts","/").concat(t,".json"));case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(M.a)(W.a.mark(function e(){var t,a,n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se("RegistryFactory");case 2:return t=e.sent,a=t.abi,n=t.address,e.abrupt("return",je.eth.contract(a).at(n));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(M.a)(W.a.mark(function e(){var t,a,n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se("TestToken");case 2:return t=e.sent,a=t.abi,n=t.address,e.abrupt("return",je.eth.contract(a).at(n));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(M.a)(W.a.mark(function e(t){var a,n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se("PLCRVoting");case 2:return a=e.sent,n=a.abi,e.abrupt("return",je.eth.contract(n).at(t));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Ie=function(){function e(t,a,n,r){Object(l.a)(this,e),this.id=t,this.commitEndDate=a,this.revealEndDate=n,this.reason=r}return Object(s.a)(e,[{key:"inCommitStage",value:function(e){return e<this.commitEndDate}},{key:"inRevealStage",value:function(e){return e>this.commitEndDate&&e<this.revealEndDate}}],[{key:"fromObject",value:function(t){var a=t.challengeID,n=t.commitEndDate,r=t.revealEndDate,i=t.data;return new e(a,Object(pe.a)(n),Object(pe.a)(r),i)}}]),e}(),Te=a(270),De=a.n(Te),Le=function(){function e(t){Object(l.a)(this,e),this.voting=t}return Object(s.a)(e,[{key:"commitVote",value:function(){var e=Object(M.a)(W.a.mark(function e(t,a,n,r){var i,c,o;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=De.a.soliditySHA3(["uint","uint"],[n,r]).toString("hex"),c=window.web3.eth.defaultAccount,e.next=4,this._callVotingMethod("getInsertPointForNumTokens",c,a,t);case 4:return o=e.sent,e.next=7,this._callVotingMethod("commitVote",t,"0x".concat(i),a,o);case 7:case"end":return e.stop()}},e,this)}));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"revealVote",value:function(){var e=Object(M.a)(W.a.mark(function e(t,a,n){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._callVotingMethod("revealVote",t,a,n);case 2:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"_callVotingMethod",value:function(){var e=Object(M.a)(W.a.mark(function e(t){var a,n,r,i=this,c=arguments;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=c.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=c[r];return console.log("Calling ".concat(t,"(").concat(n.join(", "),")")),e.abrupt("return",new Promise(function(e,a){var r;(r=i.voting)[t].apply(r,n.concat([function(t,n){t?a(t):e(n)}]))}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"create",value:function(){var t=Object(M.a)(W.a.mark(function t(a){var n;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ne(a);case 2:return n=t.sent,t.abrupt("return",new e(n));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}(),Be=function(){function e(t,a){Object(l.a)(this,e),this.contract=t,this.voting=a}return Object(s.a)(e,[{key:"_callRegistryMethod",value:function(){var e=Object(M.a)(W.a.mark(function e(t){var a,n,r,i=this,c=arguments;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=c.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=c[r];return console.log("Calling ".concat(t,"(").concat(n.join(", "),")")),e.abrupt("return",new Promise(function(e,a){var r;(r=i.contract)[t].apply(r,n.concat([function(t,n){t?a(t):e(n)}]))}));case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(M.a)(W.a.mark(function e(t,a){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._callRegistryMethod("apply",a.getHash(),t,a.toString()));case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"challenge",value:function(){var e=Object(M.a)(W.a.mark(function e(t,a){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._callRegistryMethod("challenge",t,a));case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=Object(M.a)(W.a.mark(function e(t,a){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._callRegistryMethod("withdraw",t,a));case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateStatus",value:function(){var e=Object(M.a)(W.a.mark(function e(t){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._callRegistryMethod("updateStatus",t));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAcceptedListings",value:function(){var e=Object(M.a)(W.a.mark(function e(){var t,a;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllApplications();case 2:return t=e.sent,e.next=5,this.getEventListingHashes("_ApplicationWhitelisted");case 5:return a=e.sent,e.abrupt("return",t.filter(function(e){var t=e.listingHash;return a.includes(t)}));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getPendingListings",value:function(){var e=Object(M.a)(W.a.mark(function e(){var t,a,n,r;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllApplications();case 2:return t=e.sent,e.next=5,this.getInChallengeListingHashes();case 5:return a=e.sent,e.next=8,this.getEventListingHashes("_ApplicationWhitelisted");case 8:return n=e.sent,r=a+n,e.abrupt("return",t.filter(function(e){var t=e.listingHash;return!r.includes(t)}));case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getInChallengeListings",value:function(){var e=Object(M.a)(W.a.mark(function e(){var t,a,n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllApplications();case 2:return t=e.sent,e.next=5,this.getAllEvents("_Challenge");case 5:return a=e.sent,n=[],t.forEach(function(e){var t=a.find(function(t){return t.args.listingHash===e.listingHash});t&&(e.challengePoll=Ie.fromObject(t.args),n.push(e))}),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getInChallengeListingHashes",value:function(){var e=Object(M.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getEventListingHashes("_Challenge"));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getEventListingHashes",value:function(){var e=Object(M.a)(W.a.mark(function e(t){var a;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllEvents(t);case 2:return a=e.sent,e.abrupt("return",a.map(function(e){return e.args.listingHash}));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getAllApplications",value:function(){var e=Object(M.a)(W.a.mark(function e(){var t;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllEvents("_Application");case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return de.fromObject(e.args)}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAllEvents",value:function(){var e=Object(M.a)(W.a.mark(function e(t){var a=this;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){a.contract[t]({},{fromBlock:0,toBlock:"latest"}).get(function(t,a){t?(console.error(t),n(t)):e(a)})}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(M.a)(W.a.mark(function e(t){var a;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.web3.utils.isAddress(t)){e.next=2;break}throw new Error("Invalid address");case 2:return e.next=4,this.web3.eth.getBalance(t);case 4:return a=e.sent,e.abrupt("return",Number(a));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}],[{key:"create",value:function(){var t=Object(M.a)(W.a.mark(function t(a,n){var r,i,c;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(window.web3.isAddress(a)){t.next=2;break}throw new Error("Invalid contract address");case 2:if(window.web3.isAddress(n)){t.next=4;break}throw new Error("Invalid voting contract address");case 4:return t.next=6,Se("Registry");case 6:return r=t.sent.abi,i=window.web3.eth.contract(r).at(a),t.next=10,Le.create(n);case 10:return c=t.sent,t.abrupt("return",new e(i,c));case 12:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()}]),e}(),Fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleUpdateStatus=function(){var e=a.props,t=e.tcrConnection,n=e.listing;t.updateStatus(n.listingHash)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(_.a,{variant:"outlined",color:"default",className:e.updateButton,onClick:this.handleUpdateStatus},"Update")}}]),t}(r.a.Component),Pe=Object(p.withStyles)(function(e){return{updateButton:{margin:e.spacing.unit,backgroundColor:"#FFF","&:hover":{variant:"contained",color:"#FFF",backgroundColor:"#195"}}}})(Fe),Re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){return function(){var t=a.state.checked,n=t.indexOf(e),r=Object(G.a)(t);-1===n?r.push(e):r.splice(n,1),a.setState({checked:r})}},a.handleChallengeClick=function(e){return function(){a.setState({openChallenge:!0,selectedListing:e})}},a.handleCancelChallenge=function(){return function(){a.setState({openChallenge:!1})}},a.handleChallenge=function(){return function(e){(0,a.props.onChallenge)(e),a.setState({openChallenge:!1})}},a.handleWithdrawClick=function(e){return function(){a.setState({openWithdraw:!0,selectedListing:e})}},a.handleCancelWithdraw=function(){return function(){a.setState({openWithdraw:!1})}},a.handleWithdraw=function(){return function(e){(0,a.props.onWithdraw)(e),a.setState({openWithdraw:!1})}},a.state={checked:[],openChallenge:!1,openWithdraw:!1,currTime:null},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,Object(pe.c)();case 3:e.t1=e.sent,e.t2={currTime:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getListeeActionButtons",value:function(e){var t=this.props,a=t.classes,n=t.tcrConnection,i=this.state.currTime;return e.isExpired(i)?r.a.createElement(Pe,{tcrConnection:n,listing:e}):e.applicant!==window.web3.eth.defaultAccount?r.a.createElement(_.a,{variant:"outlined",color:"secondary",className:a.challengebutton,onClick:this.handleChallengeClick(e)},"Challenge"):r.a.createElement(_.a,{variant:"outlined",color:"secondary",className:a.challengebutton,onClick:this.handleWithdrawClick(e)},"Withdraw")}},{key:"addItem",value:function(){var e=Object(M.a)(W.a.mark(function e(t){var a,n,r,i,c,o,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.tcrConnection,r=a.onApplySuccess,i=t.target.previousElementSibling,c=i.previousElementSibling,o=c.previousElementSibling,!c.value){e.next=12;break}return l=new de(c.value,i.value,o.value),e.next=8,n.submit(100,l);case 8:o.value="",c.value="",i.value="",r(l);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.tcrConnection,i=t.listItems,c=this.state,o=c.openChallenge,l=c.openWithdraw,s=c.selectedListing;return r.a.createElement("div",{className:a.root},r.a.createElement(Z.a,null,i.map(function(t){return r.a.createElement(H.a,{key:t.listingHash,dense:!0,button:!0},r.a.createElement(X.a,{className:a.avatar},r.a.createElement("i",{className:"material-icons md-10"},"hourglass_empty")),r.a.createElement(U.a,{primary:"".concat(t.name," - ").concat(t.artist," (").concat(t.url,")")}),r.a.createElement(q.a,null,r.a.createElement("div",{align:"right"},e.getListeeActionButtons(t))))})),r.a.createElement("nav",{className:"nav-add"},r.a.createElement("input",{type:"text",id:"urlinput",placeholder:"URL"}),r.a.createElement("input",{type:"text",id:"nameinput",placeholder:"Name"}),r.a.createElement("input",{type:"text",id:"artistinput",placeholder:"Artist"}),r.a.createElement("button",{type:"submit",id:"new-item",onClick:this.addItem.bind(this)},"Apply")),r.a.createElement(we,{open:o,tcrConnection:n,listing:s,handleCancel:this.handleCancelChallenge(),handleSuccess:this.handleChallenge()}),r.a.createElement(Oe,{open:l,tcrConnection:n,listing:s,handleCancel:this.handleCancelWithdraw(),handleSuccess:this.handleWithdraw()}))}}]),t}(r.a.Component);Re.defaultProps={listItems:[],onApplySuccess:function(){},onChallenge:function(){},onWithdraw:function(){}};var We=Object(p.withStyles)(function(e){return{root:{width:"100%",maxWidth:700,backgroundColor:e.palette.background.paper},challengebutton:{margin:e.spacing.unit,backgroundColor:"#FFF","&:hover":{variant:"cotained",color:"#FFF",backgroundColor:"#F00"}},applybutton:{margin:e.spacing.unit,backgroundColor:"#FFF","&:hover":{variant:"cotained",color:"#FFF",backgroundColor:"#CCC"}},input:{display:"none"},avatar:{margin:10,width:25,height:25}}})(Re),Me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleToggle=function(e){return function(){var t=a.state.checked,n=t.indexOf(e),r=Object(G.a)(t);-1===n?r.push(e):r.splice(n,1),a.setState({checked:r})}},a.state={checked:[],items:["Pinapple Song","Shark Song","The Donald Trump Song"]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(Z.a,null,this.state.items.map(function(t){return r.a.createElement(H.a,{key:t,dense:!0,button:!0},r.a.createElement(X.a,{className:e.avatar},r.a.createElement("i",{className:"material-icons md-18"},"clear")),r.a.createElement(U.a,{primary:"".concat(t)}))})))}}]),t}(r.a.Component),Ge=Object(p.withStyles)(function(e){return{root:{width:"100%",maxWidth:700,backgroundColor:e.palette.background.paper},challengebutton:{margin:e.spacing.unit,backgroundColor:"#FFF","&:hover":{variant:"cotained",color:"#FFF",backgroundColor:"#F00"}},applybutton:{margin:e.spacing.unit,backgroundColor:"#FFF","&:hover":{variant:"cotained",color:"#FFF",backgroundColor:"#CCC"}},input:{display:"none"},avatar:{margin:10,width:25,height:25}}})(Me),Ve=a(271),Ze=a.n(Ve),ze=function(e){var t=e.classes,a=e.listings;return r.a.createElement("div",{className:t.root},r.a.createElement(Z.a,{id:"AcceptedList"},a.map(function(e){var a=e.listingHash,n=e.name,i=e.artist,c=e.url;return r.a.createElement(H.a,{key:a,dense:!0,button:!0},r.a.createElement(X.a,{className:t.avatar},r.a.createElement(Ze.a,null)),r.a.createElement(U.a,{primary:"".concat(n," - ").concat(i," (").concat(c,")")}))})))};ze.defaultProps={listings:[]};var He=Object(p.withStyles)(function(e){return{root:{width:"100%",maxWidth:700,backgroundColor:e.palette.background.paper},challengebutton:{margin:e.spacing.unit,backgroundColor:"#FFF","&:hover":{variant:"cotained",color:"#FFF",backgroundColor:"#F00"}},applybutton:{margin:e.spacing.unit,backgroundColor:"#FFF","&:hover":{variant:"cotained",color:"#FFF",backgroundColor:"#CCC"}},input:{display:"none"},avatar:{margin:10,width:25,height:25}}})(ze);function Ye(e){var t=e.children;return r.a.createElement(O.a,{component:"div",style:{padding:24}},t)}var Ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e,t){a.setState({value:t})},a.state={value:0},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"getTabContent",value:function(){var e=this.state.value;return 0===e?r.a.createElement("div",null,r.a.createElement(He,{type:"profile"})):1===e?r.a.createElement("div",null,r.a.createElement(Ge,null)):r.a.createElement("div",null,r.a.createElement(We,null))}},{key:"render",value:function(){var e=this.props.classes,t=this.state.value;return r.a.createElement("div",{className:e.root},r.a.createElement(P.a,{className:e.dashboard},r.a.createElement(w.a,{position:"static"},r.a.createElement(D.a,{value:t,onChange:this.handleChange},r.a.createElement(B.a,{label:"Accepted"}),r.a.createElement(B.a,{label:"Rejected"}),r.a.createElement(B.a,{label:"Pending"}))),r.a.createElement(Ye,null,this.getTabContent())))}}]),t}(r.a.Component),Je=Object(p.withStyles)({root:{padding:24,marginleft:"auto",marginright:"auto"},dashboard:{width:"100%%",height:"10cm"}})(Ue),qe=a(56),Qe=a.n(qe),Xe=a(272),Ke=a.n(Xe),_e=a(273),$e=a.n(_e),et=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={accountID:8349573,balance:9.765,userName:"John Doe"},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.accountID,i=t.balance,c=t.userName;return r.a.createElement("div",{className:e.root},r.a.createElement(P.a,{className:e.card},r.a.createElement(Qe.a,null,r.a.createElement("div",{className:e.row},r.a.createElement(X.a,{src:a(644),className:e.avatar}),r.a.createElement("div",{className:e.details},r.a.createElement(O.a,{variant:"h6",component:"h2"},c),r.a.createElement(O.a,{color:"textSecondary",gutterBottom:!0}," "," ","Account ID:",n," "," "),r.a.createElement(O.a,{color:"textSecondary"}," "," ","Account Balance:",i," "," ")))),r.a.createElement(Ke.a,null,r.a.createElement(_.a,{size:"small"},"Edit Profile"," "," ",r.a.createElement($e.a,null,"edit_icon")))))}}]),t}(r.a.Component),tt=Object(p.withStyles)({root:{padding:24},card:{width:"100%"},row:{display:"flex"},avatar:{width:90,height:90,margin:10},details:{margin:"10px"}})(et),at=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleMenu=function(){a.props.history.push("/player")},a.state={},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(w.a,{position:"relative",color:"primary",elevation:2},r.a.createElement(y.a,null,r.a.createElement(S.a,{className:e.menuButton,color:"inherit","aria-label":"Menu",onClick:this.handleMenu},r.a.createElement(I.a,null)),r.a.createElement(O.a,{variant:"h5",color:"inherit",className:e.grow},"TCR Simulator"),r.a.createElement(S.a,{"aria-haspopup":"true",onClick:this.handle,color:"inherit"},r.a.createElement(A.a,null)))),r.a.createElement(tt,null),r.a.createElement(Je,null))}}]),t}(r.a.Component),nt=Object(p.withStyles)({card:{maxWidth:345},media:{height:140},grow:{flexGrow:1},root:{height:"100%"}})(at),rt=a(132),it=a.n(rt),ct=a(131),ot=a.n(ct),lt=a(133),st=a.n(lt),ut=a(68),mt=a.n(ut),ht=a(274),pt=a.n(ht),dt=a(276),gt=a.n(dt),ft=a(275),vt=a.n(ft),bt=a(171),Et=a.n(bt),yt=a(170),Ct=a.n(yt),wt=a(73),kt=a.n(wt),Ot=a(130),jt=a.n(Ot),St=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,snackbarOpen:!1,snackbarMessage:"",voteOption:null,salt:Object(pe.b)(),tokensToCommit:0},a.handleCancel=function(){return function(){var e=a.props.handleCancel;a.setState({voteOption:null,salt:Object(pe.b)()}),e()}},a.handleCommit=function(){return Object(M.a)(W.a.mark(function e(){var t,n,r,i,c,o,l,s,u;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.handleCommit,r=t.votingConnection,i=t.poll,c=a.state,o=c.voteOption,l=c.salt,s=c.tokensToCommit,u="accept"===o?1:0,a.setState({loading:!0}),e.prev=4,e.next=7,r.commitVote(i.id,Number(s),u,l);case 7:n(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),a.setState({snackbarOpen:!0,snackbarMessage:e.t0.toString()});case 13:return e.prev=13,a.setState({loading:!1}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[4,10,13,16]])}))},a.handleTokensToCommitChange=function(e){return a.setState({tokensToCommit:e.target.value})},a.handleSnackbarClose=function(){return function(){a.setState({snackbarOpen:!1})}},a.handleVoteOption=function(e,t){return a.setState({voteOption:t})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.poll,i=this.state,c=i.loading,o=i.snackbarOpen,l=i.snackbarMessage,s=i.voteOption,u=i.salt,m=i.tokensToCommit,h=n.commitEndDate;return r.a.createElement(ee.a,{open:a,onClose:this.handleCancel(),"aria-labelledby":"form-dialog-title",className:t.dialogBox,fullWidth:!0},r.a.createElement(ce.a,{id:"form-dialog-title"},"Commit Vote"),r.a.createElement(re.a,null,r.a.createElement(O.a,{variant:"p"},r.a.createElement("strong",null,"Commit period ends:")),r.a.createElement(O.a,{variant:"p",paragraph:!0},h.toString()),r.a.createElement(O.a,{variant:"p"},r.a.createElement("strong",null,"Tokens to commit:")),r.a.createElement(kt.a,{value:m,onChange:this.handleTokensToCommitChange,endAdornment:r.a.createElement(jt.a,{position:"end"},"TST")}),r.a.createElement(O.a,{variant:"p"},r.a.createElement("strong",null,"Option:")),r.a.createElement(vt.a,{value:s,onChange:this.handleVoteOption},r.a.createElement(Ct.a,{value:"accept",control:r.a.createElement(Et.a,{color:"primary"}),label:"Accept application"}),r.a.createElement(Ct.a,{value:"reject",control:r.a.createElement(Et.a,{color:"primary"}),label:"Reject application"})),r.a.createElement(O.a,{variant:"p"},r.a.createElement("strong",null,"Vote details:")),s?r.a.createElement("div",null,r.a.createElement(O.a,{variant:"p",color:"textSecondary",paragraph:!0},r.a.createElement("em",null,'Remember to copy this and store safely - you"ll need it to reveal your vote!')),r.a.createElement(P.a,null,r.a.createElement(Qe.a,null,r.a.createElement("pre",null,JSON.stringify({voteOption:s,salt:u},null," "))))):r.a.createElement(O.a,{variant:"p",color:"textSecondary",paragraph:!0},r.a.createElement("em",null,"Please select an option first."))),r.a.createElement(ae.a,null,r.a.createElement(_.a,{onClick:this.handleCancel(),color:"primary",disabled:c},"Cancel"),r.a.createElement("div",{className:t.submitWrapper},r.a.createElement(_.a,{onClick:this.handleCommit(),variant:"contained",color:"primary",disabled:!s||c},"Submit vote"),c&&r.a.createElement(le.a,{size:24,className:t.submitButtonProgress}))),r.a.createElement(ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:3e3,open:o,message:l,onClose:this.handleSnackbarClose()}))}}]),t}(r.a.Component);St.defaultProps={open:!1,handleCancel:function(){},handleCommit:function(){}};var xt=Object(p.withStyles)(function(e){return{submitWrapper:{margin:e.spacing.unit,position:"relative"},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(St),At=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,snackbarOpen:!1,snackbarMessage:"",copiedMessage:""},a.handleCancel=function(){return function(){var e=a.props.handleCancel;a.setState({copiedMessage:""}),e()}},a.handleReveal=function(){return Object(M.a)(W.a.mark(function e(){var t,n,r,i,c,o,l;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.handleReveal,r=t.poll,i=t.votingConnection,c=a.state.copiedMessage,a.setState({loading:!0}),e.prev=3,o=JSON.parse(c),l="accept"===o.voteOption?1:0,e.next=8,i.revealVote(r.id,l,o.salt);case 8:n(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),a.setState({snackbarOpen:!0,snackbarMessage:e.t0.toString()});case 14:return e.prev=14,a.setState({loading:!1}),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[3,11,14,17]])}))},a.handleCopiedMessage=function(e){a.setState({copiedMessage:e.target.value})},a.handleSnackbarClose=function(){return function(){a.setState({snackbarOpen:!1})}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.poll,i=this.state,c=i.loading,o=i.snackbarOpen,l=i.snackbarMessage,s=i.copiedMessage,u=n.revealEndDate;return r.a.createElement(ee.a,{open:a,onClose:this.handleCancel(),"aria-labelledby":"form-dialog-title",className:t.dialogBox,fullWidth:!0},r.a.createElement(ce.a,{id:"form-dialog-title"},"Reveal Vote"),r.a.createElement(re.a,null,r.a.createElement(O.a,{variant:"p"},r.a.createElement("strong",null,"Reveal period ends:")),r.a.createElement(O.a,{variant:"p",paragraph:!0},u.toString()),r.a.createElement(O.a,{variant:"p"},r.a.createElement("strong",null,"Your vote option and salt")),r.a.createElement("textarea",{value:s,onChange:this.handleCopiedMessage})),r.a.createElement(ae.a,null,r.a.createElement(_.a,{onClick:this.handleCancel(),color:"primary",disabled:c},"Cancel"),r.a.createElement("div",{className:t.submitWrapper},r.a.createElement(_.a,{onClick:this.handleReveal(),variant:"contained",color:"primary",disabled:c},"Reveal vote"),c&&r.a.createElement(le.a,{size:24,className:t.submitButtonProgress}))),r.a.createElement(ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:3e3,open:o,message:l,onClose:this.handleSnackbarClose()}))}}]),t}(r.a.Component);At.defaultProps={open:!1,handleCancel:function(){},handleReveal:function(){}};var Nt=Object(p.withStyles)(function(e){return{submitWrapper:{margin:e.spacing.unit,position:"relative"},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(At),It=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onCommitBtnClick=function(e){return function(){a.setState({selectedItem:e,commitVoteDialogOpened:!0})}},a.onRevealBtnClick=function(e){return function(){a.setState({selectedItem:e,revealVoteDialogOpened:!0})}},a.handleCommit=function(){return function(){a.setState({commitVoteDialogOpened:!1})}},a.handleReveal=function(){return function(){a.setState({revealVoteDialogOpened:!1})}},a.handleCancel=function(){return function(){a.setState({commitVoteDialogOpened:!1,revealVoteDialogOpened:!1})}},a.state={selectedItem:null,commitVoteDialogOpened:!1,revealVoteDialogOpened:!1,currTime:null},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(M.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,Object(pe.c)();case 3:e.t1=e.sent,e.t2={currTime:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.listings,i=t.tcrConnection,c=this.state,o=c.commitVoteDialogOpened,l=c.revealVoteDialogOpened,s=c.selectedItem,u=c.currTime;return r.a.createElement("div",{className:a.root},r.a.createElement(Z.a,null,n.map(function(t){return r.a.createElement(H.a,{key:t.listingHash,dense:!0,button:!0},r.a.createElement(X.a,{className:a.avatar},r.a.createElement(gt.a,null)),r.a.createElement(U.a,{primary:"".concat(t.name," - ").concat(t.artist," (").concat(t.url,")")}),r.a.createElement(q.a,null,r.a.createElement("div",{align:"right"},t.challengePoll&&t.challengePoll.inCommitStage(u)&&r.a.createElement(_.a,{variant:"outlined",color:"default",onClick:e.onCommitBtnClick(t)},"Commit vote"),t.challengePoll&&t.challengePoll.inRevealStage(u)&&r.a.createElement(_.a,{variant:"outlined",color:"default",onClick:e.onRevealBtnClick(t)},"Reveal vote"))))})),s&&s.challengePoll&&r.a.createElement(Nt,{open:l,handleReveal:this.handleReveal(),handleCancel:this.handleCancel(),poll:s.challengePoll,votingConnection:i.voting}),s&&s.challengePoll&&r.a.createElement(xt,{open:o,handleCommit:this.handleCommit(),handleCancel:this.handleCancel(),poll:s.challengePoll,votingConnection:i.voting}))}}]),t}(r.a.Component);It.defaultProps={listings:[]};var Tt=Object(p.withStyles)(function(e){return{root:{width:"100%",maxWidth:700,backgroundColor:e.palette.background.paper},avatar:{margin:10,width:25,height:25},updateButton:{margin:e.spacing.unit,backgroundColor:"#FFF","&:hover":{variant:"contained",color:"#FFF",backgroundColor:"#195"}}}})(It);function Dt(e){var t=e.children,a=e.dir;return r.a.createElement(O.a,{component:"div",dir:a,style:{padding:24}},t)}var Lt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:0,acceptedList:[],pendingList:[],inChallengeList:[]},a.componentDidUpdate=function(){var e=Object(M.a)(W.a.mark(function e(t){var n,r,i,c,o;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a.props.tcr)||t.tcr&&n.address===t.tcr.address){e.next=16;break}return e.next=4,Be.create(n.address,n.votingAddress);case 4:return r=e.sent,e.next=7,r.getAcceptedListings();case 7:return i=e.sent,e.next=10,r.getPendingListings();case 10:return c=e.sent,e.next=13,r.getInChallengeListings();case 13:o=e.sent,a.setState({tcrConnection:r,acceptedList:i,pendingList:c,inChallengeList:o}),window.tcrConnection=r;case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e,t){a.setState({value:t})},a.handleChangeIndex=function(e){a.setState({value:e})},a.handleApplySuccess=function(e){a.setState(function(t){return{pendingList:Object(G.a)(t.pendingList).concat([e])}})},a.handleChallenge=function(e){a.setState(function(t){return{pendingList:t.inChallengeList.filter(function(t){return e.getHash()!==t.getHash()}),inChallengeList:Object(G.a)(t.inChallengeList).concat([e])}})},a.handleWithdraw=function(e){a.setState(function(t){return{pendingList:t.pendingList.filter(function(t){return e.getHash()!==t.getHash()})}})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=this.state,i=n.tcrConnection,c=n.acceptedList,o=n.pendingList,l=n.inChallengeList;return r.a.createElement("div",{className:t.root},r.a.createElement(w.a,{position:"static",color:"default"},r.a.createElement(D.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",fullWidth:!0},r.a.createElement(B.a,{label:"Accepted"}),r.a.createElement(B.a,{label:"Pending"}),r.a.createElement(B.a,{label:"In Challenge"}),r.a.createElement(B.a,{label:"Rejected"}))),r.a.createElement(pt.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},r.a.createElement(Dt,{dir:a.direction},r.a.createElement(He,{listings:c})),r.a.createElement(Dt,{dir:a.direction},r.a.createElement(We,{tcrConnection:i,listItems:o,onApplySuccess:this.handleApplySuccess,onChallenge:this.handleChallenge,onWithdraw:this.handleWithdraw})),r.a.createElement(Dt,{dir:a.direction},r.a.createElement(Tt,{tcrConnection:i,listings:l})),r.a.createElement(Dt,{dir:a.direction},r.a.createElement(Ge,null))))}}]),t}(r.a.Component),Bt=Object(p.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:700,marginTop:20}}},{withTheme:!0})(Lt),Ft=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleClickListItem=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuItemClick=function(e){var t=a.props.onSelect;a.setState({anchorEl:null}),t(e)},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.tcrs,i=t.selected,c=this.state.anchorEl;return r.a.createElement("div",{className:a.root},r.a.createElement(Z.a,{component:"nav"},r.a.createElement(H.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Registries",onClick:this.handleClickListItem},r.a.createElement(U.a,{primary:"Registries",secondary:n[i]}))),r.a.createElement(ot.a,{id:"lock-menu",anchorEl:c,open:Boolean(c),onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null,transformOrigin:{vertical:"top",horizontal:"left"}},n.map(function(t,a){return r.a.createElement(it.a,{key:t,selected:a===i,onClick:function(){return e.handleMenuItemClick(a)}},t)})))}}]),t}(r.a.Component);Ft.defaultProps={onSelect:function(){}};var Pt=Object(p.withStyles)(function(e){return{root:{width:"100%",maxWidth:120,backgroundColor:e.palette.background.paper}}})(Ft),Rt=[{key:"minDeposit",defaultVal:1e19},{key:"pMinDeposit",defaultVal:1e19},{key:"applyStageLength",defaultVal:600},{key:"pApplyStageLength",defaultVal:1200},{key:"commitStageLength",defaultVal:600},{key:"pCommitStageLength",defaultVal:1200},{key:"revealStageLength",defaultVal:600},{key:"pRevealStageLength",defaultVal:1200},{key:"dispensationPct",defaultVal:50},{key:"pDispensationPct",defaultVal:50},{key:"voteQuorum",defaultVal:50},{key:"pVoteQuorum",defaultVal:50},{key:"exitTimeDelay",defaultVal:600},{key:"exitPeriodLen",defaultVal:600}],Wt=["minDeposit","applyStageLength","commitStageLength","revealStageLength","dispensationPct","voteQuorum","exitTimeDelay","exitPeriodLen"];function Mt(){return Gt.apply(this,arguments)}function Gt(){return(Gt=Object(M.a)(W.a.mark(function e(){var t;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe();case 2:return t=e.sent,e.abrupt("return",new Promise(function(e,a){t.NewRegistry({},{fromBlock:0,toBlock:"latest"}).get(function(t,n){if(t)console.error(t),a(t);else{var r=n.map(function(e){var t=e.args;return{name:t.name,address:t.registry,votingAddress:t.plcr,parameters:t.parameters.map(function(e,t){return{key:Rt[t].key,value:e.c[0]}}).filter(function(e){var t=e.key;return Wt.includes(t)})}});e(r)}})}));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Vt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(M.a)(W.a.mark(function e(t,a){var n,r,i;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:return n=e.sent,e.next=5,xe();case 5:return r=e.sent,i=Rt.map(function(e){var t=e.key,n=e.defaultVal;return{key:t,value:a[t]||n}}),e.abrupt("return",new Promise(function(e,a){r.newRegistryBYOToken(n.address,i.map(function(e){return e.value}),t,function(n){n?(console.error(n),a(n)):e({name:t,parameters:i.filter(function(e){var t=e.key;return Wt.includes(t)})})})}));case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var zt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSelectTcr=function(){return function(e){a.setState({selectedTcr:e})}},a.state={selectedTcr:0,tcrs:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Mt().then(function(t){return e.setState({tcrs:t})})}},{key:"render",value:function(){var e=this.props.className,t=this.state,a=t.tcrs,n=t.selectedTcr;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(mt.a,{container:!0,justify:"left",spacing:24},r.a.createElement(Pt,{tcrs:a.map(function(e){return e.name}),onSelect:this.handleSelectTcr(),selected:n}))),r.a.createElement("div",{id:"settings",className:e},r.a.createElement(mt.a,{container:!0,justify:"center"},r.a.createElement(Bt,{tcr:a[n]}))))}}]),t}(r.a.Component);zt.defaultProps={className:null};var Ht=Object(p.withStyles)({settings:{}})(zt),Yt=a(107),Ut=function(){function e(){Object(l.a)(this,e),this.web3=null,this.token=null}return Object(s.a)(e,[{key:"init",value:function(){var e=Object(M.a)(W.a.mark(function e(t){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.web3=t,e.next=3,Ae(this.web3);case 3:this.token=e.sent,window.token=this;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"balanceOf",value:function(){var e=Object(M.a)(W.a.mark(function e(t){var a=this;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){a.token.balanceOf(t,function(t,a){t&&n(t),e(a)})}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"currentAccountBalance",value:function(){var e=Object(M.a)(W.a.mark(function e(){var t=this;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){t.token.currentAccountBalance(function(t,n){t&&a(t),e(n)})}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"sendToken",value:function(){var e=Object(M.a)(W.a.mark(function e(t){var a=this;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){a.token.sendToken(t,function(t,a){t&&n(t),e(a)})}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Jt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).tokenService=new Ut,a.state={balance:0},a.componentDidMount=Object(M.a)(W.a.mark(function e(){var t,n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenService.init(window.web3);case 2:return e.next=4,a.refreshBalance();case 4:t=Object(Yt.a)(Object(Yt.a)(a)),n=window.web3.eth.defaultAccount,a.tokenService.token.Transfer({_from:n,_to:n}).watch(function(){var e=Object(M.a)(W.a.mark(function e(a){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=5;break}return e.next=3,t.refreshBalance();case 3:e.next=6;break;case 5:console.log(a);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}},e,this)})),a.refreshBalance=Object(M.a)(W.a.mark(function e(){var t;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenService.currentAccountBalance();case 2:t=e.sent,a.setState({balance:t});case 4:case"end":return e.stop()}},e,this)})),a.onClick=function(){return Object(M.a)(W.a.mark(function e(){return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.tokenService.sendToken(500);case 2:case"end":return e.stop()}},e,this)}))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.balance;return r.a.createElement(O.a,{variant:"h6",color:"inherit",onClick:this.onClick()},"Balance ="," ",e.toString())}}]),t}(r.a.Component),qt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleMenu=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.props.history.push("/profile"),a.setState({anchorEl:null})},a.handleSwitch=function(){a.props.history.push("/admin")},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.anchorEl,a=Boolean(t);return r.a.createElement("div",{className:e.root},r.a.createElement(w.a,{position:"relative",color:"primary",elevation:2},r.a.createElement(y.a,null,r.a.createElement(S.a,{className:e.menuButton,color:"inherit","aria-label":"Menu"},r.a.createElement(I.a,null)),r.a.createElement(O.a,{variant:"h5",color:"inherit",className:e.grow},"TCR Simulator"),r.a.createElement(Jt,null),r.a.createElement("div",null,r.a.createElement(st.a,{onChange:this.handleSwitch}),r.a.createElement(S.a,{"aria-owns":a?"menu-appbar":null,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},r.a.createElement(A.a,null)),r.a.createElement(ot.a,{id:"menu-appbar",anchorE1:t,anchorOrigin:{vertical:"top",horizontal:"right"},getContentAnchorEl:null,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:this.handleClose},r.a.createElement(it.a,{onClick:this.handleClose},"Profile"))))),r.a.createElement(Ht,{className:e.settingFrame}))}}]),t}(r.a.Component),Qt=Object(p.withStyles)({root:{height:"100%"},content:{height:"100%"},grow:{flexGrow:1},settingFrame:{height:"100%",overflow:"auto",zIndex:10},menuButton:{marginLeft:-12,marginRight:20}})(qt),Xt=a(286),Kt=a.n(Xt),_t=a(285),$t=a.n(_t),ea=a(288),ta=a.n(ea),aa=a(287),na=a.n(aa),ra=a(289),ia=a.n(ra),ca=a(277),oa=a.n(ca),la=a(279),sa=a.n(la),ua=a(108),ma=a.n(ua),ha=a(278),pa=a.n(ha),da=a(172),ga=a.n(da);var fa=function(e){var t=e.tcr;return r.a.createElement(P.a,null,r.a.createElement(Qe.a,null,r.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"Parameters"),r.a.createElement(oa.a,null,r.a.createElement(pa.a,null,r.a.createElement(ga.a,null,r.a.createElement(ma.a,null,"Parameter"),r.a.createElement(ma.a,null,"Value"))),r.a.createElement(sa.a,null,t.parameters.map(function(e){return r.a.createElement(ga.a,{key:e.key},r.a.createElement(ma.a,{component:"th",scope:"row"},e.key),r.a.createElement(ma.a,null,e.value))})))))};var va=function(){return r.a.createElement(P.a,null,r.a.createElement(Qe.a,null,r.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"Registry"),r.a.createElement(O.a,{color:"textSecondary"},"This card shows the current state of the registry")))};var ba=function(){return r.a.createElement(P.a,null,r.a.createElement(Qe.a,null,r.a.createElement(O.a,{variant:"h6",gutterBottom:!0},"Statistics"),r.a.createElement(O.a,{color:"textSecondary"},"This card shows the statistics of this registry")))};var Ea=function(e){var t=e.tcr;return r.a.createElement("div",null,r.a.createElement(O.a,{variant:"h6"},"TCR"),r.a.createElement(O.a,{variant:"h5",gutterBottom:!0},t.name),r.a.createElement(mt.a,{container:!0,spacing:24},r.a.createElement(mt.a,{item:!0,xs:4},r.a.createElement(fa,{tcr:t})),r.a.createElement(mt.a,{item:!0,xs:8},r.a.createElement(va,{tcr:t})),r.a.createElement(mt.a,{item:!0,xs:12},r.a.createElement(ba,{tcr:t}))))},ya=a(280),Ca=a(282),wa=a.n(Ca),ka=a(283),Oa=a.n(ka),ja=a(284),Sa=a.n(ja),xa=a(135),Aa=a.n(xa),Na=a(6),Ia=a.n(Na),Ta=a(167),Da=a.n(Ta),La=function(e){var t=e.classes,a=e.unit,n=e.value,i=e.disabled,c=e.onChange;return r.a.createElement("div",{className:t.root},r.a.createElement(Da.a,{className:Ia()(t.withoutLabel,t.textField)},r.a.createElement(kt.a,{value:n,onChange:c,disabled:i,endAdornment:r.a.createElement(jt.a,{position:"end"},a)})))};La.defaultProps={value:null,disabled:!1,onChange:function(){}};var Ba=Object(p.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",marginTop:-22,flexDirection:"row-reverse"},withoutLabel:{marginTop:1.5*e.spacing.unit},textField:{flexBasis:100}}})(La),Fa=a(281);a.n(Fa).a.create({baseURL:"http://localhost:3000/tcrs"});function Pa(e,t){return Ra.apply(this,arguments)}function Ra(){return(Ra=Object(M.a)(W.a.mark(function e(t,a){var n;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vt(t,a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Wa=function(e){var t={};return Object.keys(e).map(function(a){return["applyStageLength","commitStageLength","revealStageLength"].includes(a)?t[a]=24*e[a]*60*60:t[a]=e[a],null}),t},Ma=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={enablePayment:!0,subsFeeColor:"grey",loading:!1,snackbarOpen:!1,snackbarMessage:"",parameters:{minDeposit:100,applyStageLength:7,commitStageLength:7,revealStageLength:7,voteQuorum:50,dispensationPct:100},name:"New TCR"},a.handleNameChange=function(){return function(e){var t=e.target.value;a.setState({name:t})}},a.handleChange=function(e){return function(t){var n=Object(ya.a)({},e,t.target.value);a.setState(function(e){return{parameters:Object.assign({},e.parameters,n)}})}},a.handleCreate=function(){return Object(M.a)(W.a.mark(function e(){var t,n,r,i,c;return W.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.handleCreate,n=a.state,r=n.name,i=n.parameters,a.setState({loading:!0}),e.prev=3,e.next=6,Pa(r,Wa(i)||{});case 6:c=e.sent,t(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),a.setState({snackbarOpen:!0,snackbarMessage:e.t0.toString()});case 13:return e.prev=13,a.setState({loading:!1}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[3,10,13,16]])}))},a.handleSnackbarClose=function(){return function(){a.setState({snackbarOpen:!1})}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleCheck",value:function(e){var t=this;return function(){t.setState({enablePayment:!1===e,subsFeeColor:e?"#212121":"grey"})}}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.handleCancel,i=this.state,c=i.enablePayment,o=i.subsFeeColor,l=i.name,s=i.parameters,u=i.loading,m=i.snackbarOpen,h=i.snackbarMessage;return r.a.createElement(ee.a,{open:a,onClose:n,"aria-labelledby":"form-dialog-title",className:t.dialogBox,fullWidth:!0},r.a.createElement(ce.a,{id:"form-dialog-title"},"Create New TCR"),r.a.createElement(re.a,null,r.a.createElement("div",null,r.a.createElement(H.a,{className:t.ListItem},r.a.createElement(U.a,{className:t.listItemText},"TCR Name",r.a.createElement(ye,{classes:"",content:"minimumDeposit"})),r.a.createElement("div",null,r.a.createElement(he.a,{value:l,margin:"normal",onChange:this.handleNameChange(),autoFocus:!0}))),r.a.createElement("div",{className:t.section},r.a.createElement(wa.a,{className:t.subtitleIcon}),r.a.createElement(O.a,{variant:"subtitle1",className:t.subtitle},"Submission")),r.a.createElement(H.a,{className:t.ListItem},r.a.createElement(U.a,{className:t.listItemText},"Minimum Deposit",r.a.createElement(ye,{classes:"",content:"minimumDeposit"})),r.a.createElement("div",null,r.a.createElement(Ba,{unit:"TST",value:s.minDeposit,onChange:this.handleChange("minDeposit")}))),r.a.createElement(H.a,{className:t.withSection},r.a.createElement(U.a,{className:t.listItemText},"Submission Length Period",r.a.createElement(ye,{classes:"",content:""})),r.a.createElement("div",null,r.a.createElement(Ba,{unit:"day(s)",value:s.applyStageLength,onChange:this.handleChange("applyStageLength")}))),r.a.createElement(H.a,{className:t.ListItem},r.a.createElement(U.a,{className:t.listItemText},"Submission could be challenged.",r.a.createElement(ye,{classes:"",content:""})),r.a.createElement(Aa.a,null))),r.a.createElement("div",null,r.a.createElement("div",{className:t.section},r.a.createElement(Oa.a,{className:t.subtitleIcon}),r.a.createElement(O.a,{variant:"subtitle1",className:t.subtitle},"Curation")),r.a.createElement(H.a,{className:t.ListItem},r.a.createElement(U.a,{className:t.listItemText},"Commit Stage Length",r.a.createElement(ye,{classes:"",content:""})),r.a.createElement("div",null,r.a.createElement(Ba,{unit:"day(s)",value:s.commitStageLength,onChange:this.handleChange("commitStageLength")}))),r.a.createElement(H.a,{className:t.ListItem},r.a.createElement(U.a,{className:t.listItemText},"Reveal Stage Length",r.a.createElement(ye,{classes:"",content:""})),r.a.createElement("div",null,r.a.createElement(Ba,{unit:"day(s)",value:s.revealStageLength,onChange:this.handleChange("revealStageLength")}))),r.a.createElement(H.a,{className:t.ListItem},r.a.createElement(U.a,{className:t.listItemText},"Voting Success Threshold",r.a.createElement(ye,{classes:"",content:""})),r.a.createElement("div",null,r.a.createElement(Ba,{unit:"%",value:s.voteQuorum,onChange:this.handleChange("voteQuorum")}))),r.a.createElement(H.a,{className:t.ListItem},r.a.createElement(U.a,{className:t.listItemText},"DispensationPct",r.a.createElement(ye,{classes:"",content:""})),r.a.createElement("div",null,r.a.createElement(Ba,{unit:"TST",value:s.dispensationPct,onChange:this.handleChange("dispensationPct")}))),r.a.createElement(H.a,{className:t.ListItem},r.a.createElement(U.a,{className:t.listItemText},"Each maintainer holds equal voting rights.",r.a.createElement(ye,{classes:"",content:"curation"})),r.a.createElement(Aa.a,{defaultChecked:!0}))),r.a.createElement("div",null,r.a.createElement("div",{className:t.section},r.a.createElement(Sa.a,{className:t.subtitleIcon}),r.a.createElement(O.a,{variant:"subtitle1",className:t.subtitle},"Subscription")),r.a.createElement(H.a,{className:t.withSection},r.a.createElement(U.a,{className:t.listItemText},"Consumer pays to subscribe to the list.",r.a.createElement(ye,{classes:"",content:"access"})),r.a.createElement(Aa.a,{onChange:this.handleCheck(c)})),r.a.createElement(H.a,{className:t.withSection},r.a.createElement(U.a,{disableTypography:!0,primary:r.a.createElement(O.a,{variant:"subtitle1",style:{color:o,marginLeft:10}},"Subscription Fee")}),r.a.createElement(Ba,{unit:"TST",disabled:c})))),r.a.createElement(ae.a,null,r.a.createElement(_.a,{onClick:n,color:"primary",disabled:u},"Cancel"),r.a.createElement("div",{className:t.submitWrapper},r.a.createElement(_.a,{onClick:this.handleCreate(),variant:"contained",color:"primary",disabled:u},"Create"),u&&r.a.createElement(le.a,{size:24,className:t.submitButtonProgress}))),r.a.createElement(ue.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:3e3,open:m,message:h,onClose:this.handleSnackbarClose()}))}}]),t}(r.a.Component);Ma.defaultProps={open:!1,handleCancel:function(){},handleCreate:function(){}};var Ga=Object(p.withStyles)(function(e){return{subtitle:{display:"inline",paddingLeft:6,marginTop:1,position:"flex",flexDirection:"column"},dialogBox:{maxWidth:"80%"},subtitleIcon:{display:"inline",padding:3},listItemText:{marginLeft:10},ListItem:{marginTop:10,marginBottom:17},margin:{margin:e.spacing.unit},section:{display:"flex",borderBottom:"1px solid rgb(0,0,0,.25)"},withSection:{display:"flex",marginTop:10,marginBottom:-5},selected:{color:"grey",marginLeft:10},submitWrapper:{margin:e.spacing.unit,position:"relative"},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(Ma),Va=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleSwitch=function(){a.props.history.push("/player")},a.handleTcrDialogCreate=function(){return function(e){var t=a.state.tcrs,n=t.push(e);a.setState({tcrs:t,tcrDialogOpened:!1}),a.onTCRSelected(n-1)}},a.state={tcrDialogOpened:!1,selectedTcr:0,tcrs:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;Mt().then(function(t){return e.setState({tcrs:t})}).catch(console.error)}},{key:"onTCRSelected",value:function(e){this.setState({selectedTcr:e})}},{key:"handleTcrDialogCancel",value:function(){this.setState({tcrDialogOpened:!1})}},{key:"showTcrDialog",value:function(){this.setState({tcrDialogOpened:!0})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.tcrDialogOpened,i=a.selectedTcr,c=a.tcrs;return r.a.createElement("div",{className:t.root},r.a.createElement($t.a,null),r.a.createElement(w.a,{position:"fixed",className:t.appBar},r.a.createElement(y.a,null,r.a.createElement(O.a,{variant:"h6",color:"inherit",noWrap:!0},"TCR Playground"),r.a.createElement(st.a,{onChange:this.handleSwitch}))),r.a.createElement(Kt.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(Z.a,{subheader:r.a.createElement(na.a,{component:"div"},"Deployed TCRs")},c.map(function(t,a){return r.a.createElement(H.a,{button:!0,key:t.name,onClick:function(){return e.onTCRSelected(a)},selected:i===a},r.a.createElement(ta.a,null,r.a.createElement(ia.a,null)),r.a.createElement(U.a,{primary:t.name}))})),r.a.createElement(_.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){return e.showTcrDialog()}},"Create new TCR")),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),c[i]?r.a.createElement(Ea,{tcr:c[i]}):r.a.createElement("div",null)),r.a.createElement(Ga,{open:n,handleCancel:function(){return e.handleTcrDialogCancel()},handleCreate:this.handleTcrDialogCreate()}))}}]),t}(r.a.Component),Za=Object(p.withStyles)(function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},content:{flexGrow:1,padding:3*e.spacing.unit},toolbar:e.mixins.toolbar,button:{marginLeft:2*e.spacing.unit,marginRight:2*e.spacing.unit}}})(Va),za=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(window.ethereum)window.web3=new b.a(window.ethereum),window.ethereum.enable().then(function(){var e=Object(o.a)(window.web3.eth.accounts,1);window.web3.eth.defaultAccount=e[0]}).catch(function(e){return console.error(e)});else if(window.web3){window.web3=new b.a(window.web3.currentProvider);var e=Object(o.a)(window.web3.eth.accounts,1);window.web3.eth.defaultAccount=e[0]}else console.log("Non-Ethereum browser detected. You should consider trying MetaMask!")}},{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(f.a,{exact:!0,path:"/",component:Qt}),r.a.createElement(f.a,{path:"/player",component:Qt}),r.a.createElement(f.a,{path:"/admin",component:Za}),r.a.createElement(f.a,{path:"/profile",component:nt})))}}]),t}(r.a.Component),Ha=Object(p.withStyles)({})(za);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ha,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[291,2,1]]]);
//# sourceMappingURL=main.08be7210.chunk.js.map